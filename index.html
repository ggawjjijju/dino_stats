<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>Dinosaur Stat Viewer</title>
<style>
    body {
        background: #111;
        color: #fff;
        font-family: Arial, sans-serif;
        padding: 20px;
    }
    h1, h2 {
        margin-bottom: 8px;
    }
    input, button {
        padding: 8px;
        margin: 5px 3px 5px 0;
        font-size: 16px;
    }
    #output {
        margin-top: 20px;
        padding: 15px;
        background: #222;
        white-space: pre-line;
        border-radius: 10px;
    }
</style>
</head>
<body>

<h1>Dinosaur Stat Viewer</h1>

<h2>Search Dinosaur</h2>
<input id="searchInput" placeholder="공룡 이름 입력 (예: giga, allo)">
<button onclick="searchDino()">Search</button>

<h2>Compare Dinosaurs</h2>
<input id="aInput" placeholder="Dino 1">
<input id="bInput" placeholder="Dino 2">
<button onclick="compareDino()">Compare</button>

<div id="output"></div>

<script>
// ------------------------- Dino Data -----------------------------

const dinoDB = {
"Tyrannosaurus":     {damage:1200,health:6500,speed:33.2,ambush:43.1,sprint:33,bleed:10,grow:380,index:1},
"T-rex":             {damage:1200,health:6500,speed:33.2,ambush:43.1,sprint:33,bleed:10,grow:380,index:1},
"Giganotosaurus":    {damage:700,health:6000,speed:30.6,ambush:39.8,sprint:50,bleed:40,grow:390,index:2},
"Albertosaurus":     {damage:424,health:3000,speed:39.2,ambush:42.1,sprint:0,bleed:10,grow:120,index:3},
"Suchomimus":        {damage:350,health:3600,speed:30.9,ambush:39.3,sprint:200,bleed:20,grow:235,index:4},
"Ceratosaurus":      {damage:350,health:2250,speed:36.6,ambush:40.3,sprint:150,bleed:8,grow:150,index:5},
"Allosaurus":        {damage:300,health:2800,speed:34.2,ambush:44.5,sprint:200,bleed:25,grow:180,index:6},
"Spinosaurus":       {damage:250,health:9071,speed:23.3,ambush:34.4,sprint:30,bleed:18,grow:360,index:7},
"Acrocanthosaurus":  {damage:250,health:4790,speed:42.6,ambush:52.2,sprint:27,bleed:25,grow:240,index:8},
"Carnotaurus":       {damage:200,health:2170,speed:52.2,ambush:0,sprint:220,bleed:15,grow:110,index:9},
"Utahraptor":        {damage:200,health:1200,speed:43.2,ambush:56,sprint:300,bleed:20,grow:100,index:10},
"Baryonyx":          {damage:150,health:1450,speed:41.3,ambush:49.6,sprint:155,bleed:15,grow:180,index:11},
"Dilophosaurus":     {damage:150,health:1050,speed:38.8,ambush:45.5,sprint:150,bleed:50,grow:110,index:12},
"Austroraptor":      {damage:60,health:250,speed:51.5,ambush:0,sprint:120,bleed:2,grow:120,index:13},
"Herrerasaurus":     {damage:50,health:500,speed:55.8,ambush:0,sprint:130,bleed:10,grow:80,index:14},
"Puertasaurus":      {damage:5000,health:49895,speed:0,ambush:0,sprint:0,bleed:0,grow:0,index:15},
"Ankylosaurus":      {damage:1260,health:5443,speed:19.3,ambush:0,sprint:120,bleed:30,grow:240,index:16},
"Stegosaurus":       {damage:1200,health:4883,speed:26.3,ambush:0,sprint:90,bleed:30,grow:240,index:17},
"Camarasaurus":      {damage:750,health:12000,speed:20.7,ambush:0,sprint:70,bleed:0,grow:0,index:18},
"Triceratops":       {damage:360,health:8200,speed:25.34,ambush:0,sprint:66,bleed:20,grow:360,index:19},
"Therizinosaurus":   {damage:350,health:4536,speed:38.2,ambush:0,sprint:65,bleed:30,grow:300,index:20},
"Pachycephalosaurus":{damage:350,health:1300,speed:40,ambush:0,sprint:175,bleed:10,grow:130,index:21},
"Diabloceratops":    {damage:350,health:3250,speed:31.6,ambush:0,sprint:150,bleed:18,grow:180,index:22},
"Shantungosaurus":   {damage:250,health:11793,speed:32.5,ambush:0,sprint:46,bleed:14,grow:360,index:23},
"Parasaurolophus":   {damage:250,health:3600,speed:34.2,ambush:0,sprint:250,bleed:20,grow:180,index:24},
"Maiasaura":         {damage:175,health:2868,speed:44.6,ambush:0,sprint:180,bleed:14,grow:110,index:25},
"Gallimimus":        {damage:150,health:800,speed:48.6,ambush:0,sprint:400,bleed:18,grow:90,index:26},
"Dryosaurus":        {damage:20,health:500,speed:41.5,ambush:0,sprint:250,bleed:30,grow:120,index:27}
};

// ----------------- Hit Table (27x27) -------------------

const dino_deal = [
    [6, 6, 2, 2, 1, 2, 12, 4, 1, 1, 1, 1, 1, 1, 0, 5, 4, 20, 10, 3, 1, 2, 19, 2, 2, 1, 1],
    [9, 9, 2, 3, 2, 2, 18, 6, 2, 1, 1, 1, 1, 1, 0, 7, 6, 31, 15, 5, 1, 3, 30, 3, 2, 1, 1],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [17, 17, 4, 6, 3, 4, 35, 10, 4, 1, 1, 1, 1, 1, 1, 13, 11, 61, 29, 9, 1, 5, 59, 6, 4, 1, 1],
    [31, 31, 8, 11, 5, 7, 63, 19, 4, 1, 2, 2, 2, 1, 1, 24, 19, 110, 53, 17, 2, 9, 106, 11, 7, 1, 1],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
];

// ----------------------- Util Functions -------------------------

function lower(s){ return s.toLowerCase(); }

// C++ Search 함수와 동일한 부분 문자열 검색
function searchName(input){
    const key = lower(input);
    for(const name in dinoDB){
        if(lower(name).includes(key)) return name;
    }
    return null;
}

function printStat(name, d){
    return (
`=== ${name} ===
Damage: ${d.damage}
Health: ${d.health}
Speed: ${d.speed}
Ambush: ${d.ambush}
Sprint_Duration: ${d.sprint}
Bleed: ${d.bleed}
Grow time: ${d.grow}`
    );
}

// ------------------------ Search ----------------------------

function searchDino(){
    const input = document.getElementById("searchInput").value.trim();
    let name = input;

    if (!name){
        document.getElementById("output").innerText = "NOT FOUND";
        return;
    }

    if(!dinoDB[name]) name = searchName(input);
    if(!name || !dinoDB[name]){
        document.getElementById("output").innerText = "NOT FOUND";
        return;
    }

    document.getElementById("output").innerText = printStat(name, dinoDB[name]);
}

// ------------------------ Compare ----------------------------

function compareDino(){
    const aRaw = document.getElementById("aInput").value.trim();
    const bRaw = document.getElementById("bInput").value.trim();

    let a = aRaw;
    let b = bRaw;

    if (!a || !b){
        document.getElementById("output").innerText = "NOT FOUND";
        return;
    }

    if(!dinoDB[a]){
        const p = searchName(a);
        if(p) a = p;
    }
    if(!dinoDB[b]){
        const p = searchName(b);
        if(p) b = p;
    }

    if(!dinoDB[a] || !dinoDB[b]){
        document.getElementById("output").innerText = "NOT FOUND";
        return;
    }

    const Aname = a;
    const Bname = b;
    const A = dinoDB[Aname];
    const B = dinoDB[Bname];

    let txt = "";
    txt += `=== Result (${Aname} vs ${Bname}) ===\n`;

    function cmp(label, x, y){
        txt += `${label}:  ${Aname}(${x})  vs  ${Bname}(${y})  → `;
        if (x > y) txt += `${Aname} 우세\n`;
        else if (x < y) txt += `${Bname} 우세\n`;
        else txt += `동일\n`;
    }

    cmp("Damage", A.damage, B.damage);
    cmp("Health", A.health, B.health);
    cmp("Speed", A.speed, B.speed);
    cmp("Ambush", A.ambush, B.ambush);
    cmp("Sprint", A.sprint, B.sprint);
    cmp("Bleed", A.bleed, B.bleed);

    const idxA = A.index - 1;
    const idxB = B.index - 1;

    txt += `\n${Aname} hit ${Bname} ${dino_deal[idxA][idxB]} times\n`;
    txt += `${Bname} hit ${Aname} ${dino_deal[idxB][idxA]} times\n`;

    document.getElementById("output").innerText = txt;
}
</script>
</body>
</html>

